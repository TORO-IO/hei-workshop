<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">

	<title>reveal.js - The HTML Presentation Framework</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" href="/controldeck/reveal.js/css/reveal.css">
	<link rel="stylesheet" href="/controldeck/reveal.js/css/theme/night.css" id="theme">
  <link rel="stylesheet" href="/controldeck/reveal.js/lib/css/zenburn.css">
  <link rel="stylesheet" href="/controldeck/app.css">
	<style>
		pre {
			margin: 0 auto !important;
			box-shadow: none !important;
		}
		code {
			max-height: 620px !important;
		}
		gCode {
			color: #18CB18;
			font-family: monospace;
		}
		h2 {
			color: #4FCFFF !important;
		}
		h4 {
			color: #4FCFFF !important;
		}
	</style>

</head>
<body id="body">
  <div class="toro-io">
    <a href="https://www.toro.io/" target="_blank" class="toro-io-heading">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 653.8 117.6" xml:space="preserve" enable-background="new 0 0 653.8 117.6">
        <path class="st0" d="M38.5 31.4h-29V12.1h78.9v19.3h-29v75.9H38.5V31.4zM205.1 12.1h43.5c12.1 0 21.5 3.4 27.7 9.7 5.3 5.3 8.2 12.8 8.2 21.8v0.3c0 15.4-8.3 25-20.4 29.5l23.2 34h-24.5l-20.4-30.5H226v30.5h-20.9V12.1zM247.2 58.3c10.2 0 16-5.4 16-13.5v-0.3c0-9-6.3-13.6-16.5-13.6H226v27.3H247.2z"/><rect x="456.2" y="10.6" class="st0" width="1" height="98.2"/><path class="st0" d="M481.2 17.5h-5.6v-3.4h15.2v3.4h-5.6v15.1h-4.1V17.5zM508.7 25.6c0 5-3 7.5-7.9 7.5 -5 0-7.9-2.4-7.9-7.5V14.1h4.1v11.5c0 2 0.5 4 3.8 4 2.9 0 3.8-1.2 3.8-4V14.1h4.1V25.6zM512.2 14.1h10c3.3 0 5.4 2.3 5.4 5.1 0 2.2-0.9 3.8-2.9 4.7v0.1c2 0.5 2.6 2.4 2.7 4.3 0.1 1.2 0 3.4 0.8 4.4h-4.1c-0.5-1.2-0.4-3-0.7-4.4 -0.3-1.9-1-2.8-3.1-2.8h-4.1v7.3h-4.1V14.1zM516.3 22.5h4.5c1.8 0 2.8-0.8 2.8-2.7 0-1.8-1-2.6-2.8-2.6h-4.5V22.5zM531 14.1h4.1l7.8 12.5h0.1V14.1h3.8v18.6h-4.1l-7.7-12.4h-0.1v12.4H531V14.1zM550.2 14.1h4.1v7.7l7.3-7.7h5.1l-7.3 7.3 8 11.2h-5.1l-5.6-8.3 -2.3 2.4v6h-4.1V14.1zM569 14.1h13.9v3.4h-9.8v4h9v3.2h-9v4.5h10v3.4H569V14.1zM590.7 25.4l-6.8-11.3h4.6l4.3 7.3 4.3-7.3h4.6l-6.9 11.4v7.1h-4.1V25.4zM485.4 37.7c5.7 0 9.1 4.3 9.1 9.8 0 5.4-3.4 9.6-9.1 9.6 -5.7 0-9.1-4.3-9.1-9.6C476.2 42 479.6 37.7 485.4 37.7zM485.4 53.7c3.7 0 5-3.1 5-6.2 0-3.3-1.4-6.4-5-6.4 -3.7 0-5 3.1-5 6.4C480.3 50.6 481.7 53.7 485.4 53.7zM497.3 38.1h4.1l7.8 12.5h0.1V38.1h3.8v18.6h-4.1l-7.7-12.4h-0.1v12.4h-3.8V38.1zM516.5 38.1h4.1v15.1h9v3.4h-13.1V38.1zM532 38.1h4.1v18.6H532V38.1zM539.6 38.1h4.1l7.8 12.5h0.1V38.1h3.8v18.6h-4.1l-7.7-12.4h-0.1v12.4h-3.8V38.1zM558.9 38.1h13.9v3.4H563v4h9v3.2h-9v4.6h10v3.4h-14.1V38.1zM477 62.2h10c3.3 0 5.4 2.3 5.4 5.1 0 2.2-0.9 3.8-2.9 4.7V72c2 0.5 2.6 2.4 2.7 4.3 0.1 1.2 0 3.4 0.8 4.4H489c-0.5-1.2-0.4-3-0.7-4.4 -0.3-1.9-1-2.8-3.1-2.8h-4.1v7.3H477V62.2zM481.1 70.6h4.5c1.8 0 2.8-0.8 2.8-2.7 0-1.8-1-2.6-2.8-2.6h-4.5V70.6zM495.8 62.2h13.9v3.4h-9.8v4h9v3.2h-9v4.5h10v3.4h-14.1V62.2zM516.8 65.6h-5.6v-3.4h15.2v3.4h-5.6v15.1h-4.1V65.6zM533.6 62.2h4.2l6.9 18.6h-4.2l-1.4-4.1h-6.9l-1.5 4.1h-4.1L533.6 62.2zM533.2 73.6h4.8l-2.3-6.8h-0.1L533.2 73.6zM546.4 62.2h4.1v18.6h-4.1V62.2zM554 62.2h4.1v15.1h9v3.4H554V62.2zM485.4 85.8c5.7 0 9.1 4.3 9.1 9.8 0 5.4-3.4 9.6-9.1 9.6 -5.7 0-9.1-4.3-9.1-9.6C476.2 90.1 479.6 85.8 485.4 85.8zM485.4 101.8c3.7 0 5-3.1 5-6.2 0-3.3-1.4-6.4-5-6.4 -3.7 0-5 3.1-5 6.4C480.3 98.7 481.7 101.8 485.4 101.8zM497.3 86.2h8.4c4.7 0 6.4 2.9 6.4 6 0 3-1.8 6-6.4 6h-4.3v6.7h-4.1V86.2zM501.4 95h3.2c1.9 0 3.6-0.4 3.6-2.8 0-2.4-1.7-2.8-3.6-2.8h-3.2V95zM514.6 86.2h13.9v3.4h-9.8v4h9v3.2h-9v4.6h10v3.4h-14.1V86.2zM531.5 86.2h10c3.3 0 5.4 2.3 5.4 5.1 0 2.2-0.9 3.8-2.9 4.7v0.1c2 0.5 2.6 2.4 2.7 4.3 0.1 1.2 0 3.4 0.8 4.4h-4.1c-0.5-1.2-0.4-3-0.7-4.4 -0.3-2-1-2.8-3.1-2.8h-4.1v7.3h-4.1V86.2zM535.5 94.6h4.5c1.8 0 2.8-0.8 2.8-2.7 0-1.8-1-2.6-2.8-2.6h-4.5V94.6zM555.3 86.2h4.2l6.9 18.6h-4.2l-1.4-4.1h-6.9l-1.5 4.1h-4.1L555.3 86.2zM554.9 97.6h4.8l-2.3-6.8h-0.1L554.9 97.6zM572.2 89.7h-5.6v-3.4h15.2v3.4h-5.6v15.1h-4.1V89.7zM583.9 86.2h4.1v18.6h-4.1V86.2zM599.9 85.8c5.7 0 9.1 4.3 9.1 9.8 0 5.4-3.4 9.6-9.1 9.6 -5.7 0-9.1-4.3-9.1-9.6C590.8 90.1 594.2 85.8 599.9 85.8zM599.9 101.8c3.7 0 5-3.1 5-6.2 0-3.3-1.4-6.4-5-6.4s-5 3.1-5 6.4C594.9 98.7 596.3 101.8 599.9 101.8zM611.8 86.2h4.1l7.7 12.5h0.1V86.2h3.8v18.6h-4.1l-7.7-12.4h-0.1v12.4h-3.8V86.2zM633.9 98.6c0 2.5 1.9 3.4 4.1 3.4 1.4 0 3.6-0.4 3.6-2.3 0-2-2.8-2.3-5.5-3.1 -2.8-0.7-5.5-1.8-5.5-5.3 0-3.8 3.6-5.6 6.9-5.6 3.9 0 7.4 1.7 7.4 6h-4c-0.1-2.2-1.7-2.8-3.7-2.8 -1.3 0-2.8 0.5-2.8 2.1 0 1.4 0.9 1.6 5.5 2.8 1.4 0.3 5.5 1.2 5.5 5.4 0 3.4-2.7 6-7.7 6 -4.1 0-8-2-7.9-6.6H633.9z"/><path class="st0" d="M409 12.4h-3v-1.8h8.2v1.8h-3v8.2H409V12.4zM415.3 10.6h3.1l2.3 6.9h0l2.2-6.9h3.1v10h-2.1v-7.1h0l-2.5 7.1h-1.7l-2.5-7h0v7h-2.1V10.6z"/><path class="st0" d="M157.9 12C157.8 12 157.8 12 157.9 12c-0.1 0-0.2 0-0.2-0.1 -0.1 0-0.3-0.1-0.4-0.1l0 0c-1.9-0.3-3.5 0.2-3.8 1.4 -0.3 1.3 1.1 2.7 3.1 3.3v0c14.6 5.1 25 19 25 35.3 0 20.7-16.8 37.5-37.5 37.5 -20.7 0-37.5-16.8-37.5-37.5 0-16.3 10.4-30.2 25-35.3l0 0 0 0c2-0.6 3.4-2 3.1-3.3 -0.3-1.2-2.3-1.8-4.4-1.2 -0.2 0.1-0.4 0.1-0.6 0.2 -21.6 5.9-36.2 24.9-36.2 47.2v0.3c0 27.1 21.1 48.9 50.4 48.9 29.4 0 50.7-22.2 50.7-49.2v-0.3C194.6 36.6 179.9 17.7 157.9 12zM359.2 12C359.2 12 359.1 12 359.2 12c-0.1 0-0.2 0-0.2-0.1 -0.1 0-0.3-0.1-0.4-0.1l0 0c-1.9-0.3-3.5 0.2-3.8 1.4 -0.3 1.3 1.1 2.7 3.1 3.3v0c14.6 5.1 25 19 25 35.3 0 20.7-16.8 37.5-37.5 37.5 -20.7 0-37.5-16.8-37.5-37.5 0-16.3 10.4-30.2 25-35.3l0 0 0 0c2-0.6 3.4-2 3.1-3.3 -0.3-1.2-2.3-1.8-4.4-1.2 -0.2 0.1-0.4 0.1-0.6 0.2 -21.6 5.9-36.2 24.9-36.2 47.2v0.3c0 27.1 21.1 48.9 50.4 48.9 29.4 0 50.7-22.2 50.7-49.2v-0.3C396 36.6 381.2 17.7 359.2 12z"/>
      </svg>
    </a><!-- end of toro-io-heading -->
  </div><!-- end of .toro-io watermark -->


  <div class="reveal">
    <div class="slides">

      <!-- Page 0 -->
      <section data-state="blur-on">
        <h1>Single-Page Application using AngularJs</h1>
        <h4>
          HTML5 Presentation Framework powered by
          <a href="https://github.com/hakimel/reveal.js">reveal.js</a>
        </h4>
        <p>
          <small>Presented By Mykel Ray Perez</small><br>
          <a href="#" target="_blank"><i class="ion-social-github"></i></a> &nbsp;
          <a href="#" target="_blank"><i class="ion-social-twitter"></i></a> &nbsp;
          <a href="#" target="_blank"><i class="ion-social-codepen"></i></a> &nbsp;
        </p>
      </section>
			<!-- end of page 0 -->

			<!-- Page 1 -->
			<section>
				<section>
					<h2>Download the Project</h2>
					<a href="https://github.com/TORO-IO/hei-workshop/archive/spa.zip" download>spa.zip (less than 1mb)</a>
				</section>
				<section>
					<u style="text-decoration: none; text-align: left;">
						<li style="margin-top: 20px;">Extract the downloaded zip file</li>
						<li style="margin-top: 20px;">Open your terminal/console</li>
						<li style="margin-top: 20px;">cd to the downloaded project's directory</li>
						<li style="margin-top: 20px;">run <gCode>atom .</gCode> or <gCode>subl .</gCode></li>
						<li style="margin-top: 20px;">run <gCode>node server.js</gCode></li>
					</u>
				</section>
			</section>
			<!-- end of page 1 -->

			<!-- Page 2 -->
      <section>
				<section>
					<h2>What is a Single-Page App?</h2>
					<p class="fragment" style="color: #e7ad52;">Loads a single HTML page</p>
					<p class="fragment" style="color: #e7ad52;">Dynamically update that page as the user interacts</p>
				</section>
				<section>
					<h2>Traditional Lifecycle</h2>
					<img src="assets/traditional-lifecycle.png"/>
				</section>
				<section>
					<h2>SPA Lifecycle</h2>
					<img src="assets/spa-lifecycle.png"/>
				</section>
      </section>
			<!-- end of page 2 -->

			<!-- Page 3 -->
			<section>
				<h2>Why use SPA?</h2>
				<p class="fragment" style="color: #e7ad52;">Reduced server load</p>
				<p class="fragment" style="color: #e7ad52;">Applications are more fluid and responsive</p>
				<p class="fragment" style="color: #e7ad52;">Separation of presentation and application logic</p>
			</section>
			<!-- end of page 3 -->

			<!-- Page 4 -->
			<section>
				<h4>app.js</h2>
				<pre>
					<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app', [])
					</code>
				</pre>
				<h4>index.html</h2>
				<pre>
					<code class="hljs" contenteditable="" data-trim="">
&lt;html ng-app="app"&gt;
  &lt;body&gt;
    <a href="/">Home</a>
    <a href="/login">Login</a>

    <script src="stable/bower_components/angular/angular.js"></script>
    <script src="app.js"></script>
  &lt;/body&gt;
&lt;/html&gt;
					</code>
				</pre>
			</section>
			<!-- end of page 4 -->

			<!-- Page 5 -->
			<section>
				<section>
					<h4>views/login.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<h5>Login</h5>
<input ng-model="credentials.username" type="text">
<input ng-model="credentials.password" type="text">
<button ng-click="login()" type="button">Login</button>
						</code>
					</pre>
				</section>

				<section>
					<h4>index.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
&lt;html ng-app="app"&gt;
  &lt;body&gt;
    <a href="/">Home</a>
    <a href="/login">Login</a>

    <div ng-view></div>

    <script src="stable/bower_components/angular/angular.js"></script>
    <script src="stable/bower_components/angular-route/angular-route.js"></script>
    <script src="stable/bower_components/ngstorage/ngStorage.js"></script>
    <script src="app.js"></script>
  &lt;/body&gt;
&lt;/html&gt;
						</code>
					</pre>
				</section>

				<section>
					<h4>app.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app', [
    'ngRoute',
    'ngStorage'
  ])
  .config( AppConfig )

AppConfig.$inject = [
  '$routeProvider',
  '$locationProvider'
]

function AppConfig ($routeProvider, $locationProvider) {
  $locationProvider.html5Mode({
    enabled: true,
    requireBase: false
  });

  $routeProvider
    .when('/', {
      template: '<home></home>'
    })

    .when('/login', {
      template: '<login></login>'
    })
}
						</code>
					</pre>
				</section>

			</section>
			<!-- end of page 5 -->

			<!-- Page 6 -->
			<section>
				<section>
					<h3>What are Directives?</h3>
					<p class="fragment" style="color: #e7ad52;">Directives are markers on a DOM element (such as an attribute, element name, comment or CSS class) that tells AngularJS's HTML compiler to attach a specified behavior to that DOM element or even to transform the DOM element and its children.</p>
					<p class="fragment" style="color: #e7ad52;">Angular comes with a set of these directives built-in, like ngBind, ngModel, and ngClass</p>
					<p class="fragment" style="color: #e7ad52;">You can create your own directives for Angular to use</p>
				</section>

				<section>
					<h4>javascript/directives.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('login', login)

function login () {
  var directive = {
    restrict: 'E',
    templateUrl: '/views/login.html'
  }

  return directive
}
						</code>
					</pre>
					<h4>index.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<script src="javascript/directives.js"></script>
						</code>
					</pre>
				</section>

			</section>
			<!-- end of page 6 -->

			<!-- Page 7 -->
			<section>
				<section>
					<h3>Providers</h3>
					<p class="fragment" style="color: #e7ad52;">Each web application you build is composed of objects that collaborate to get stuff done</p>
					<p class="fragment" style="color: #e7ad52;">These objects need to be instantiated and wired together for the app to work</p>
					<p class="fragment" style="color: #e7ad52;">In Angular apps most of these objects are instantiated and wired together automatically by the injector service</p>
				</section>

				<section>
					<h4>javascript/factories.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .factory('api', ApiFactory)

ApiFactory.$inject = [
  '$rootScope',
  '$http',
  '$q',
  '$location',
  '$localStorage'
]

function ApiFactory ( $rootScope, $http, $q, $location, $localStorage ) {
  var api = this;
  var baseurl = 'https://hei-workshop.herokuapp.com/api/';
  var headers = {
    'Content-Type': 'application/json',
    'Authorization': ( $localStorage.token ) ?
      'Bearer ' + $localStorage.token : undefined
  }

  api.setToken = function( token ) {
    ( token ) ?
      $localStorage.token = token : delete $localStorage.token
    headers.Authorization = ( token ) ?
      'Bearer ' + token : undefined
    $rootScope.$broadcast('token::set');
  }

  api.login = function( credentials ) {
    return $http.post( baseurl + 'login', credentials, {headers} )
      .then( handleSuccess, handleError );
  }

  api.post = function( blog ) {
    return $http.post( baseurl + 'blogs', blog, {headers} )
      .then( handleSuccess, handleError );
  }

  api.getBlogs = function() {
    return $http.get( baseurl + 'blogs', {headers} )
      .then( handleSuccess, handleError );
  }

  api.getBlog = function( id ) {
    return $http.get( baseurl + 'blogs/' + id, {headers} )
      .then( handleSuccess, handleError );
  }

  api.deleteBlog = function( id ) {
    return $http.delete( baseurl + 'blogs/' + id, {headers} )
      .then( handleSuccess, handleError );
  }

  function handleSuccess(response) {
    return response.data;
  }

  function handleError(error) {
    switch( error.status ) {
      case 401:
      case -1:
        api.setToken();
        $location.path( '/login' )
        return $q.reject( error.status );
        break;
      default:
        return $q.reject( error.status );
    }
  }

  return this
}
						</code>
					</pre>
				</section>

				<section>
					<h4>index.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<script src="javascript/factories.js"></script>
						</code>
					</pre>
				</section>

				<section>
					<h3>Controllers</h3>
					<p class="fragment" style="color: #e7ad52;">
						AngularJS applications are controlled by <span class="fragment"><strong>controllers</strong></span>
					</p>
					<p class="fragment" style="color: #e7ad52;">A Controller is defined by a JavaScript constructor function that is used to augment the Angular Scope</p>
				</section>

				<section>
					<h3>What are Scopes?</h3>
					<p class="fragment" style="color: #e7ad52;">Scope is an object that refers to the application model</p>
				</section>

				<section>
					<h4>javascript/directives.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('login', login)

function login () {
  var directive = {
    restrict: 'E',
    templateUrl: '/views/login.html',
    controller: LoginCtrl
  }

  return directive
}

LoginCtrl.$inject = [
  '$scope',
  '$location',
  'api'
]

function LoginCtrl ($scope, $location, api) {
  $scope.credentials = {
    username: '',
    password: ''
  }

  $scope.login = function () {
    api.login( $scope.credentials )
      .then( function(response) {
        api.setToken( response.token );
        $location.path( '/' );
      }, function (error) {
        alert('Something went wrong');
      });
  }
}
						</code>
					</pre>
				</section>

				<section>
					<h3>ngModel directive</h3>
					<p class="fragment" style="color: #e7ad52;">The ngModel directive binds an input,select, textarea (or custom form control) to a property on the <strong>scope</strong></p>
					<h4 class="fragment">views/login.html</h4>
					<pre class="fragment">
						<code class="hljs" contenteditable="" data-trim="">
<h5>Login</h5>
<input ng-model="credentials.username" type="text">
<input ng-model="credentials.password" type="text">
<button ng-click="login()" type="button">Login</button>
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 7 -->

			<!-- Page 8 -->
			<section>
				<section>
					<h4>index.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
&lt;html ng-app="app" ng-controller="user"&gt;
...
<script src="javascript/controllers.js"></script>
						</code>
					</pre>
					<h4>javascript/controllers.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .controller('user', userController)

userController.$inject = [
  '$scope',
  '$localStorage',
  'api'
]

function userController ($scope, $localStorage, api) {
  $scope.loggedIn = $localStorage.token != undefined;

  $scope.logout = function() {
    api.setToken();
  }

  $scope.$on('token::set', function() {
    $scope.loggedIn = $localStorage.token != undefined;
  })
}
						</code>
					</pre>
				</section>

				<section>
					<h4>ngIf directive</h4>
					<p class="fragment" style="color: #e7ad52;">The ngIf directive removes or recreates a portion of the DOM tree based on an {expression}</p>
					<p class="fragment" style="color: #e7ad52;">If the expression assigned to ngIf evaluates to a false value then the element is removed from the DOM, otherwise a clone of the element is reinserted into the DOM</p>
					<h4>index.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="" style="max-height: 530px;">
<a href="/">Home</a>
<a ng-if="loggedIn == false" href="/login">Login</a>
<span ng-if="loggedIn == true">
  <a href="/post">Post</a>
  <a ng-click="logout()" href="/">Logout</a>
</span>
<hr>
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 8 -->

			<!-- Page 9 -->
			<section>
				<section>
					<h4>app.js</h4>
					<pre>
					<code class="hljs" contenteditable="" data-trim="">
$routeProvider
  .when('/', {
    template: '<home></home>'
  })

  .when('/login', {
    template: '<login></login>'
  })

  .when('/post', {
    template: '<post></post>'
  })
						</code>
					</pre>
					<h4>javascript/directives.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('login', login)
  .directive('post', post)
						</code>
					</pre>
				</section>

				<section>
					<h4>javascript/directives.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
function post () {
  var directive = {
    restrict: 'E',
    templateUrl: '/views/post.html',
    controller: PostCtrl
  }

  return directive
}

PostCtrl.$inject = [
  '$scope',
  '$location',
  'api'
]

function PostCtrl ($scope, $location, api) {
  $scope.blog = {
    title: '',
    content: ''
  }

  $scope.post = function () {
    api.post( $scope.blog )
      .then( function(response) {
        $location.path( '/' );
      }, function (error) {
        alert('Something went wrong');
      });
    }
}
						</code>
					</pre>
				</section>

				<section>
					<h4>views/post.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<h5>Title</h5>
<input ng-model="blog.title" type="text">
<h5>Content</h5>
<textarea ng-model="blog.content" rows="8"></textarea><br>
<button ng-click="post()" type="button">Post</button>
						</code>
					</pre>
				</section>

			</section>
			<!-- end of page 9 -->

			<!-- Page 10 -->
			<section>
				<section>
					<h4>javascript/directives.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('home', home)
  .directive('login', login)
  .directive('post', post)
						</code>
					</pre>
				</section>

				<section>
					<h4>javascript/directives.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
function home () {
  var directive = {
    restrict: 'E',
    templateUrl: '/views/home.html',
    controller: BlogsCtrl
  }

  return directive
}

BlogsCtrl.$inject = [
  '$scope',
  'api'
]

function BlogsCtrl ($scope, api) {
  api.getBlogs()
    .then( function(response) {
      $scope.blogs = response;
    }, function (error) {
      alert('Something went wrong');
    });
}
						</code>
					</pre>
				</section>

				<section>
					<h3>ngRepeat directive</h3>
					<p class="fragment" style="color: #e7ad52;">The ng-repeat directive repeats an HTML element</p>
					<h3 class="fragment">Data Binding</h3>
					<p class="fragment" style="color: #e7ad52;">The {{ blog }} expression, in the example below, is an AngularJS data binding expression</p>
					<h4>views/home.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<div ng-repeat="blog in blogs">
  <h1>{{ blog.title }}</h1>
  &lt;pre&gt;
{{ blog.content }}
  &lt;/pre&gt;
  <a href="/view/{{ blog.id }}">View blog</a>
  <hr>
</div>
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 10 -->

			<!-- Page 11 -->
			<section>
				<section>
					<h4>app.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
$routeProvider
  .when('/', {
    template: '<home></home>'
  })

  .when('/login', {
    template: '<login></login>'
  })

  .when('/post', {
    template: '<post></post>'
  })

  .when('/view/:id', {
    template: '<blog></blog>'
  })
						</code>
					</pre>
					<h4>javascript/directives.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('home', home)
  .directive('login', login)
  .directive('post', post)
  .directive('blog', blog)
						</code>
					</pre>
				</section>

				<section>
					<h4>javascript/directives.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
function blog () {
  var directive = {
    restrict: 'E',
    templateUrl: '/views/blog.html',
    controller: BlogCtrl
  }

  return directive
}

BlogCtrl.$inject = [
  '$scope',
  '$location',
  '$routeParams',
  'api'
]

function BlogCtrl ($scope, $location, $routeParams, api) {
  $scope.editMode = false;

  api.getBlog( $routeParams.id )
    .then( function(response) {
      $scope.blog = response;
    }, function (error) {
      alert('Something went wrong');
    $location.path( '/' );
  });

  $scope.edit = function (option) {
    $scope.editMode = option;
    ( option == true ) ?
      $scope.unsavedBlog = angular.copy( $scope.blog ) : $scope.blog = $scope.unsavedBlog
  }

  $scope.update = function () {
    api.post( $scope.blog )
      .then( function(response) {
        $scope.editMode = false;
      }, function (error) {
        alert('Something went wrong');
      });
  }

  $scope.delete = function () {
    api.deleteBlog( $scope.blog.id )
      .then( function(response) {
        $location.path( '/' );
      }, function (error) {
        alert('Something went wrong');
    });
  }
}
						</code>
					</pre>
				</section>

				<section>
					<h4>views/blog.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<span ng-if="editMode != true">
  <h1>{{ blog.title }}</h1>
  &lt;pre&gt;
{{ blog.content }}
  &lt;/pre&gt;

  <button ng-click="edit(true)" type="button">Edit</button>
  <button ng-click="delete()" type="button">Delete</button>
</span>

<span ng-if="editMode == true">
  <h5>Title</h5>
  <input ng-model="blog.title" type="text">
  <h5>Content</h5>
  <textarea ng-model="blog.content" rows="8"></textarea><br>

  <button ng-click="update()" type="button">Save</button>
  <button ng-click="edit(false)" type="button">Cancel</button>
</span>
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 11 -->

    </div><!-- end of .slides -->
  </div><!-- end of .reveal -->

  <script src="/controldeck/reveal.js/lib/js/head.min.js"></script>
	<script src="/controldeck/reveal.js/js/reveal.js"></script>
	<script src="/controldeck/app.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="/controldeck/deck.js"></script>

</body>
</html>
